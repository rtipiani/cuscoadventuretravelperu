---
const slides = [
	{
		title: "Machupicchu",
		description: "Descubre la majestuosidad de Machu Picchu, una de las maravillas del mundo y un destino lleno de historia y cultura.",
		image: "./slide-machupicchu.png",
		buttonText: "Consultar ahora",
		buttonLink: "#"
	},
	{
		title: "Ica & Paracas",
		description: "Explora las maravillas de Ica y Paracas, destinos llenos de aventura, naturaleza y cultura fascinante.",
		image: "./slide-paracas.png",
		buttonText: "Consultar ahora",
		buttonLink: "#"
	},
	{
		title: "Lago Titicaca",
		description: "Descubre la serenidad y belleza del Lago Titicaca, el lago navegable más alto del mundo, lleno de tradiciones y paisajes únicos.",
		image: "./slide-lago-titicaca.png",
		buttonText: "Consultar ahora",
		buttonLink: "#"
	}
];
---
<div class="relative w-full h-screen overflow-hidden">
	<!-- Slides -->
	<div id="slider" class="flex w-full h-full transition-transform duration-700 ease-in-out">
		{slides.map((slide) => (
			<div class="flex-shrink-0 w-full h-full relative flex items-center justify-center text-white" style={`background-image: url(${slide.image}); background-size: cover; background-position: center;`}>
				<!-- Capa oscura para resaltar el texto -->
				<div class="absolute inset-0 bg-[#19470c]/85 saturate-200 brightness-25"></div>
				<div class="text-center px-4 p-6 rounded flex flex-col items-center justify-center relative z-10">
					<h2 class="text-5xl font-bold mb-4">{slide.title}</h2>
					<p class="text-xl mb-6">{slide.description}</p>
					<a href={slide.buttonLink} class="bg-white text-black font-bold py-3 px-6 rounded-full flex items-center justify-center gap-2 hover:bg-gray-200 transition max-w-xs">
						<i class="fab fa-whatsapp text-green-500"></i>
						{slide.buttonText}
					</a>
				</div>
			</div>
		))}
	</div>

	<!-- Controles con círculos perfectos -->
	<button id="prev" class="absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg hover:bg-black/70 transition">
		<i class="fas fa-chevron-left text-2xl"></i>
	</button>
	<button id="next" class="absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg hover:bg-black/70 transition">
		<i class="fas fa-chevron-right text-2xl"></i>
	</button>
</div>

<script type="module">
	const slider = document.getElementById("slider");
	const nextBtn = document.getElementById("next");
	const prevBtn = document.getElementById("prev");

	if (slider && nextBtn && prevBtn) {
		const totalSlides = slider.children.length;
		let index = 0;

		const goToSlide = (i) => {
			index = (i + totalSlides) % totalSlides;
			slider.style.transform = `translateX(-${index * 100}%)`;
		};

		nextBtn.addEventListener("click", () => goToSlide(index + 1));
		prevBtn.addEventListener("click", () => goToSlide(index - 1));

		// Auto-play cada 5 segundos
		setInterval(() => goToSlide(index + 1), 5000);
	}
</script>
