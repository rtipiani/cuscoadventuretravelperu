--- 
import Layout from "../layouts/Layout.astro";
import { paquetes } from "../data/paquetes-cusco";

const plan = { 
    titulo: "Tours en Cusco", 
    subtitulo: "Explora experiencias únicas en la capital histórica del Imperio Inca", 
    imagen: "/bg-cusco.png",
}; 
--- 
<Layout>
    <!-- HERO -->
    <section class="relative">
        <div class="relative h-[90vh] md:h-[80vh] rounded-b-3xl overflow-hidden shadow-lg" style={`background-image: url('${plan.imagen}'); background-size: cover; background-position: center;`}>
            <div class="absolute inset-0 bg-gradient-to-b from-black/70 via-black/40 to-black/80"></div>
            <div class="absolute inset-0 flex flex-col items-center justify-center text-center px-6">
                <h1 class="font-extrabold text-white drop-shadow-lg text-[clamp(1.8rem,4vw,3.2rem)]">{plan.titulo}</h1>
                <p class="mt-3 text-white/80 max-w-2xl text-[clamp(0.9rem,2vw,1.2rem)]">{plan.subtitulo}</p>
                <div class="mt-6 flex flex-col sm:flex-row gap-3 w-full sm:w-auto">
                    <a href="#paquetes" class="w-full sm:w-auto bg-green-600 text-white px-6 py-3 rounded-xl shadow hover:bg-green-700 transition">Ver Tours</a>
                    <a href={`https://wa.me/51973291892?text=${encodeURIComponent(`Hola, estoy interesado en los ${plan.titulo}`)}`} target="_blank" rel="noopener noreferrer" class="w-full sm:w-auto bg-white/90 text-green-800 px-6 py-3 rounded-xl shadow hover:bg-white transition">
                        Reservar ahora
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- GRID DE TOURS -->
    <section class="py-20 bg-gray-100" id="paquetes">
    <div class="max-w-7xl mx-auto px-6 lg:px-12 text-center">
      <h2 class="font-extrabold text-gray-900 mb-6 text-[clamp(1.6rem,3vw,2rem)]">
        Tours de Aventura, Cultura y Naturaleza en Cusco
      </h2>
      <p class="text-gray-700 mb-12 max-w-3xl mx-auto">
        Elige entre experiencias únicas que combinan historia, arqueología, paisajes andinos y vivencias espirituales.
      </p>

      <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
        {paquetes.map((p) => (
          <div class="relative bg-white rounded-lg shadow-lg p-6 flex flex-col justify-between hover:shadow-2xl transition self-start">
            {p.etiqueta && (
              <span class="absolute top-4 left-4 bg-[#ffc834] text-[#19470c] text-sm font-bold px-3 py-1 rounded-full shadow-md uppercase tracking-wide">
                {p.etiqueta}
              </span>
            )}
            <img
              src={p.imagen}
              alt={p.titulo}
              class="w-full h-44 sm:h-48 object-cover rounded-md mb-5"
            />
            <p class="text-[#2d751b] font-medium uppercase tracking-wide text-sm">
              {p.dias}
            </p>
            <h3 class="font-bold text-gray-800 mt-2">{p.titulo}</h3>
            <p class="text-gray-600 mt-4">{p.descripcion}</p>

            <a
              href={`/cusco/${p.slug}`}
              class="mt-4 inline-flex items-center justify-center bg-green-800 text-white py-2 px-5 rounded-md font-medium hover:bg-green-700 transition"
            >
              Ver Itinerario
            </a>
          </div>
        ))}
      </div>
    </div>
  </section>
</Layout>